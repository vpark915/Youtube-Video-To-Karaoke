import { MoreVideoDetails } from 'ytdl-core';

type DownloaderOptions = {
    getTags?: boolean;
    outputDir?: string;
    verifyTags?: boolean;
};
declare class Downloader {
    static defaultDownloadsDir: string;
    getTags: boolean;
    outputDir: string;
    verifyTags: boolean;
    constructor({ getTags, outputDir, verifyTags }: DownloaderOptions);
    downloadSong(url: string): Promise<string>;
    /** Returns the content from the video as a buffer */
    private downloadVideo;
    /** Returns the absolute path to the audio file to be downloaded */
    private getOutputFile;
}

declare class FormatConverter {
    private readonly ffmpegBinary;
    constructor();
    videoToAudio(videoData: Buffer, outputFile: string): void;
}

type SearchResult = {
    artistName: string;
    artworkUrl100: string;
    trackName: string;
};
type SearchData = {
    resultCount: number;
    results: SearchResult[];
};
type AlbumArt = {
    description: string;
    imageBuffer: Buffer;
    mime: string;
    type: {
        id: number;
        name: string;
    };
};
type SongTags = {
    artist: string;
    image: AlbumArt;
    title: string;
};
declare class SongTagsSearch {
    private searchTerm;
    private url;
    constructor(videoDetails: MoreVideoDetails);
    search(verify?: boolean): Promise<SongTags>;
    private fetchAlbumArt;
    private fetchResults;
    private getVerifiedResult;
}

declare function main(): Promise<void>;

/**
 * Custom error class representing unrecoverable errors intentionally thrown by ytdl-mp3
 */
declare class YtdlMp3Error extends Error {
    constructor(message: string, options?: ErrorOptions);
}

export { type AlbumArt, Downloader, type DownloaderOptions, FormatConverter, type SearchData, type SearchResult, type SongTags, SongTagsSearch, YtdlMp3Error, main };
